{#==========================================
Docs : "installation"
==========================================#}

<section id="installation">
    <h3>
        <a class="anchor" href="#installation" title="permanent link"></a>
        Installation
    </h3>
    
    {#==========================================
    Section "installation / requirements"
    ==========================================#}
    <div id="requirements">
        <h4>
            <a class="anchor_small" href="#requirements" title="permanent link"></a>
            Requirements
        </h4>
        <p>
            <ul>
                <li>
                    A Java 8 JDK
                </li>
                <li>
                    A build tool able to use <a href="https://maven.apache.org">Maven</a> artifacts.
                </li>
            </ul>
        </p>
    </div>
    
    {#==========================================
    Section "installation / versions"
    ==========================================#}
    <div id="versions">
        <h4>
            <a class="anchor_small" href="#versions" title="permanent link"></a>
            Spincast versions
        </h4>
        <p>
            Spincast ultimate goal is to follow the Java <a href="https://www.oracle.com/technetwork/java/java-se-support-roadmap.html">LTS</a> (Long Term Support) versions. 
        </p>
        <p>
            The LTS is
            currently <code>Java 11</code> but we believe the Java 9+ ecosystem is still wobbly
            because of the new modular system brought by Java 9 (called "<code>JPMS</code>" - <em>Java Platform Module System</em> - or
            "<code>Jigsaw</code>"). It is still hard to develop a Java 11 application using one of the three main
            IDEs, where annoying errors such <a href="https://stackoverflow.com/questions/54993710/the-package-com-google-inject-is-accessible-from-more-than-one-module">as this one</a>
            are still encountered.
        </p>
        <p>
            <img class="inlineIcon" src="/public/images/icons/tipy.png" />
            For this reason, Spincast <code>1.X.X</code> is still based on the very solid Java 8. Spincast <code>2.X.X</code>
            will be based on Java 11, when we feel the tools are ready.
        </p>
    </div>

    {#==========================================
    Section "installation / Quick Start"
    ==========================================#}
    <div id="quick_start">
        <h4>
            <a class="anchor_small" href="#quick_start" title="permanent link"></a>
            <img id="quickIcon" class="inlineIcon" src="/public/images/icons/flash.png" /> Quick Start application
        </h4>
        
		{% if spincast.spincastCurrrentVersionIsSnapshot  %}
	        <div class="alert alert-warning" role="alert"><strong>Warning!</strong> The current version,
	            "<code>{{spincast.spincastCurrrentVersion}}</code>" is a <em>snapshot</em> version. That means that it
	            can change, it is not a stable version. Do not use this 
	            as a start for a real application!
	        </div>
		{% endif %}

        <p>
            The easiest way to try Spincast is to download the Quick Start application, 
            which also can be used as a template to start a new application. This application already has in
            place most of the boilerplate code suggested to develop a solid and flexible Spincast application.
        </p>
        <p>
            How to run :
            <ol>
                <li>
                    <div>
                        Download the Spincast <a href="/public/quickstart/spincast-quick-start.zip"><b>Quick Start</b></a> [<i>.zip</i>]
                        application.
                    </div>
                </li>
                <li>
                    <div>
                        Decompress the zip file, go inside the "<em>spincast-quick-start</em>"
                        root directory using a command prompt and run :
                        <br />
                        <code class="block">mvn clean package</code> 
                        <br />
                        This will compile the application and produce an executable <code>.jar</code> file
                        containing an embedded HTTP server. 
                    </div>
                </li>
                <li>
                    <div>
                        Start the application using :
                        <br />
                        <code>java -jar target/spincast-quickstart-1.0.0-SNAPSHOT.jar</code>  
                    </div>
                </li>
                <li>
                    <div>
                        Once the application is running, open <code><a href="http://localhost:44419">http://localhost:44419</a></code> 
                        in your browser!
                    </div>
                </li>
                <li>
                    <div>
                        The next step would probably be to import the project in your favorite IDE and start debugging it to see
                        how it works. The entry point of a standard Spincast application is the classic <code>main(...)</code> 
                        method. You'll find this method in class 
                        <code>org.spincast.quickstart.App</code>.
                    </div>
                </li>
            </ol>
        </p>   
        <p>
            <img class="inlineIcon" src="/public/images/icons/tipy.png" />
            Note that the Quick Start application is <em>not</em> a simple
            "Hello World!" application. It contains some advanced (but
            recommended) features, such as a custom <code>Request Context</code> type
            and a custom <code>WebSocket Context</code> type! To learn Spincast from scratch, you may first want to 
            read the three <a href="/demos-tutorials/hello-world/">"Hello World!" tutorials</a>
            before trying to understand the code of the Quick Start application.
        </p>
         
    </div>

    {#==========================================
    Section "installation / Installing from scratch"
    ==========================================#}
    <div id="from_scratch">
        <h4>
            <a class="anchor_small" href="#from_scratch" title="permanent link"></a>
            Installing Spincast from scratch
        </h4>
        
        {% if spincast.spincastCurrrentVersionIsSnapshot  %}
            <div class="alert alert-warning" role="alert"><strong>Warning!</strong> The current version,
                "<code>{{spincast.spincastCurrrentVersion}}</code>" is a <em>snapshot</em> version. That means that it
                can change, it is not a stable version. Do not use this 
                as a start for a real application!
            </div>
        {% endif %}
        
        <p>
            If you want to start from scratch, without using the <a href="#quick_start">Quick Start</a> application
            as a template, you first add the <code><em>org.spincast:spincast-default:{{spincast.spincastCurrrentVersion}}</em></code> 
            artifact to your <code>pom.xml</code> :
                    <br />
                    <pre class="ace ace-xml" 
>&lt;dependency>
    &lt;groupId>org.spincast&lt;/groupId>
    &lt;artifactId>spincast-default&lt;/artifactId>
    &lt;version>{{spincast.spincastCurrrentVersion}}&lt;/version>
&lt;/dependency></pre>
        </p>
        
        <p>
            This artifact installs a set of <a href="#plugins_default">default plugins</a> and 
            provides all the required components for a Spincast application to be functional.
        </p>
        
        {% if spincast.spincastCurrrentVersionIsSnapshot  %}

             <p>
                Since this is a <code>SNAPSHOT</code> version, you also have to add this repository
                to your <code>pom.xml</code> (or <code>build.gradle</code>) :
                <br />
                <pre class="ace ace-xml" 
>&lt;repositories&gt;
    &lt;repository&gt;
        &lt;id&gt;sonatype-snapshots&lt;/id&gt;
        &lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots&lt;/url&gt;
        &lt;snapshots&gt;
            &lt;enabled&gt;true&lt;/enabled&gt;
        &lt;/snapshots&gt;
    &lt;/repository&gt;
&lt;/repositories&gt;</pre>    
             </p>
        {% endif %}
        
        <p>
            <img class="inlineIcon" src="/public/images/icons/para.png" />
            When this is done, you can follow the instructions of the <a href="#bootstrapping">Bootstrapping your app</a>
            section to initialize your application. This process is very simple and simply requires you to use the
            <code><em>Spincast.init(args)</em></code> or <code><em>Spincast.configure()</em></code> bootstrapper in 
            a <code>main(...)</code> method. 
        </p>
        <p>
            Here's a simple Spincast application :
            
            <div>
                <p>
                    <pre class="ace ace-java"
>public class App {

    public static void main(String[] args) {
        Spincast.init(args);
    }

    @Inject
    protected void init(DefaultRouter router, Server server) {
        router.GET("/").handle(context -> context.response().sendHtml("&lt;h1&gt;Hello World!&lt;/h1&gt;"));
        server.start();
    }
}</pre>   
                </p>
            </div> 
        </p>
        <p>
            <img class="inlineIcon" src="/public/images/icons/tipy.png" />
            There is a <a href="/demos-tutorials/hello-world/quick">tutorial page</a> for this simple "Hello World!"
            application. On that page you can download and try the application by yourself!
        </p>
    </div>
</section>
            