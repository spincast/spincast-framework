{#==========================================
Docs : "installation"
==========================================#}

<section id="installation">
    <h3>
        <a class="anchor" href="#installation" title="permanent link"></a>
        Installation
    </h3>
    <p>
        There are a lot of different ways to use Spincast and to bootstrap your application.
        In fact, an entire <a href="#bootstrapping">Bootstrapping your app</a> section is dedicated to this topic! But 
        in this section you'll learn the quickest ways to get started.
    </p>
    
    {#==========================================
    Section "installation / requirements"
    ==========================================#}
    <div id="requirements">
        <h4>
            <a class="anchor_small" href="#requirements" title="permanent link"></a>
            Requirements
        </h4>
        <p>
            <ul>
                <li>A Java 7 JDK or newer</li>
                <li>A build tool able to use Maven artifacts (<a href="https://maven.apache.org">Maven</a>, 
                   <a href="http://gradle.org">Gradle</a>, <a href="http://ant.apache.org/ivy">Ivy</a>, etc.)</li>
                <li>Some Java and web development experience.
                 <a href="https://github.com/google/guice/wiki/Motivation">Guice</a> experience will help a lot too!</li>
            </ul>
        </p>
    </div>

    {#==========================================
    Section "installation / Quick Start"
    ==========================================#}
    <div id="quick_start">
        <h4>
            <a class="anchor_small" href="#quick_start" title="permanent link"></a>
            <i class="glyphicon glyphicon-flash"></i> Quick Start</i>
        </h4>
        
		{% if spincastCurrrentVersionIsSnapshot  %}
	        <div class="alert alert-warning" role="alert"><strong>Warning!</strong> The current version,
	            "<code>{{spincastCurrrentVersion}}</code>" is a <em>snapshot</em> version. That means that it
	            can change, it is not a stable version. Do not use this 
	            as a start for a real application!
	        </div>
		{% endif %}

        <p>
            The easiest way to try Spincast is to download the Quick Start application, 
            which is a simple but working Spincast application. This Quick Start even makes 
            a good starting point to build a real application! For this Quick Start, you need to have 
            <a href="https://maven.apache.org/install.html">Maven</a> installed, but the application could easily be tweaked to
            be used by another tool like Gradle.
        </p>
        <p>
            <ol>
                <li>
                    <div>
                        Download the Spincast <a href="/public/quickstart/spincast-quick-start.zip"><b>Quick Start</b></a> [<i>.zip</i>]
                        application.
                    </div>
                </li>
                <li>
                    <div>
                        Decompress the zip file, go inside the "<em>spincast-quick-start</em>"
                        root directory using a command prompt and run:
                        <br />
                        <code class="block">mvn clean package</code> 
                        <br />
                        This will compile the application and produce an executable <code>.jar</code> file
                        containing an embedded HTTP server. 
                    </div>
                </li>
                <li>
                    <div>
                        Start the application using :
                        <br />
                        <code>java -jar target/spincast-quickstart-1.0.0-SNAPSHOT.jar</code>  
                    </div>
                </li>
                <li>
                    <div>
                        Once the application is running, open <code><a href="http://localhost:44419">http://localhost:44419</a></code> 
                        in your browser. Bingo!
                    </div>
                </li>
                <li>
                    <div>
                        The next step would probably be to import the project in your favorite IDE and start debugging it to see
                        how it works. The entry point of a standard Spincast application is the classic <code>main(...)</code> 
                        method. You'll find this method in class 
                        <code>org.spincast.quickstart.App</code>.
                    </div>
                </li>
            </ol>
        </p>    
    </div>

    {#==========================================
    Section "installation / using Default Module"
    ==========================================#}
    <div id="using_default_module">
        <h4>
            <a class="anchor_small" href="#using_default_module" title="permanent link"></a>
            Using <code>SpincastDefaultGuiceModule</code>
        </h4>
        
        {% if spincastCurrrentVersionIsSnapshot  %}
            <div class="alert alert-warning" role="alert"><strong>Warning!</strong> The current version,
                "<code>{{spincastCurrrentVersion}}</code>" is a <em>snapshot</em> version. That means that it
                can change, it is not a stable version. Do not use this 
                as a start for a real application!
            </div>
            
             <p>
                <i class="subIcon glyphicon glyphicon-share-alt"></i>
                Since this is a <code>SNAPSHOT</code> version, you first have to add this repository
                to your <code>pom.xml</code>:
                <br />
                <pre class="ace ace-xml" 
>&lt;repositories&gt;
    &lt;repository&gt;
        &lt;id&gt;sonatype-snapshots&lt;/id&gt;
        &lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots&lt;/url&gt;
        &lt;snapshots&gt;
            &lt;enabled&gt;true&lt;/enabled&gt;
        &lt;/snapshots&gt;
    &lt;/repository&gt;
&lt;/repositories&gt;</pre>    
             </p>
        {% endif %}

        <p>
            Spincast is modular, and pretty much all components can be replaced. There are some <em>required</em> components
            though, and an implementation must be provided for those. This is exactly what the <code>spincast-default</code> 
            artifact is: an easy way to bind a default implementation for all the required components.
        </p>
        <p>
            <div>
                <p>
                    <i class="subIcon glyphicon glyphicon-share-alt"></i>
                    Add the 
                    <code>org.spincast:spincast-default:{{spincastCurrrentVersion}}</code> 
                    dependency to your <code>pom.xml</code> :
                    <br />
                    <pre class="ace ace-xml" 
>&lt;dependency>
    &lt;groupId>org.spincast&lt;/groupId>
    &lt;artifactId>spincast-default&lt;/artifactId>
    &lt;version>{{spincastCurrrentVersion}}&lt;/version>
&lt;/dependency></pre>
                </p>
            </div>
        </p>
        <p>
            If you use other tools like Gradle or  Ivy, you already know how to use Maven coordinates, aren't you?
        </p>
    
        <p>
            This artifact gives you access to a Guice module, <code>SpincastDefaultGuiceModule</code>,
            which binds default implementations. (Look <a href="#required_components">here</a> if you are curious about what
            those default implementations are!).
        </p>
        <p>
            <div>
                <p>
                    <i class="subIcon glyphicon glyphicon-share-alt"></i>
                    Then, create a Guice context using that module, in general inside a <code>main(...)</code> 
                    method:
                    <br />
                    <pre class="ace ace-java"
>public static void main(String[] args) {
        
    Injector guice = Guice.createInjector(new SpincastDefaultGuiceModule(args));
    
    IServer server = guice.getInstance(IServer.class);
    server.start();
}</pre>     
    	        </p> 
                <p>
                    <span class="explanation">Explanation :</span>
                    <ul>
                        <li>
                            <span class="code-line-nbr">1</span> : A good old Java's <code>main(...)</code> method! This
                            is the entry point of a standard Spincast application.
                        </li>
                        <li>
                            <span class="code-line-nbr">3</span> : The very first thing a Spincast application
                            does is to create a Guice context. Here, we use the provided
                            <code>SpincastDefaultGuiceModule</code> module. This is going to bind a default
                            implementation for all the required components.
                            By passing the main method's <code>args</code> as a parameter to the constructor, 
                            the module will bind them using the <code>@MainArgs</code>
                            annotation so you can easily access them wherever you need (<a href="#main_args">more info</a>).
                        </li>
                        <li>
                            <span class="code-line-nbr">5</span> : We get the <code>server</code> instance from the Guice context.
                        </li>
                        <li>
                            <span class="code-line-nbr">6</span> : We start the server.
                        </li>
                    </ul>
                </p>  
    	        <p>
                    <i class="subIcon glyphicon glyphicon-share-alt"></i>
    	            Run this application and point a browser at : <code><a href="http://localhost:44419">http://localhost:44419</a></code>.
    	            You'll see that the server works, but since no route have been defined, you'll always get
                    a <code>404 Not Found</code> response!
    	        </p>
    	        <p>
    	            This is the very basic on how to start a Spincast application. But how do you add routes? How to make
                    your application do something useful? Keep reading if you want to learn about Spincast and its architecture,
                    or jump to the <a href="#bootstrapping">Bootstrapping your app</a> section is you want 
                    to see code straight away!
    	        </p>
            </div>
        </p>
    </div>
</section>
            